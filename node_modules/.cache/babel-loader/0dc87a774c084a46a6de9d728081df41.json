{"ast":null,"code":"var _jsxFileName = \"/home/acer/VisualCodeProjects/reactLessons/2/react-2/react-app/src/components/randomChar/randomChar.js\";\nimport React, { Component } from 'react'; // import './randomChar.css';\n\nimport gotService from '../../services/gotServices';\nimport Spinner from '../spinner';\nimport ErrorMessage from '../errorMessage';\nimport './randomChar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class RandomChar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.gotService = new gotService();\n    this.state = {\n      char: {},\n      loading: true,\n      error: false\n    };\n\n    this.onCharLoaded = char => {\n      this.setState({\n        char,\n        loading: false\n      });\n    };\n\n    this.onError = error => {\n      this.setState({\n        error: true,\n        loading: false\n      });\n    };\n\n    this.updateCharacter = () => {\n      const id = Math.floor(Math.random() * 140 + 25); // const id = 1300000;\n\n      this.gotService.getCharacter(id).then(this.onCharLoaded).catch(this.onError);\n    };\n  }\n\n  componentDidMount() {\n    console.log('mounting');\n    this.updateCharacter();\n    this.timerId = setInterval(this.updateCharacter, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  render() {\n    console.log('render');\n    const {\n      char,\n      loading,\n      error\n    } = this.state;\n    const errorMessage = error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 38\n    }, this) : null;\n    const spinner = loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 35\n    }, this) : null;\n    const content = !(loading || error) ? /*#__PURE__*/_jsxDEV(View, {\n      char: char\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 47\n    }, this) : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"random-block rounded\",\n      children: [errorMessage, spinner, content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst View = ({\n  char\n}) => {\n  const {\n    name,\n    gender,\n    born,\n    died,\n    culture\n  } = char;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"RandomChar: \", name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group list-group-flush\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"term\",\n          children: \"Gender: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"term\",\n          children: \"Born: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: born\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"term\",\n          children: \"Died: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: died\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"term\",\n          children: \"Culture: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: culture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = View;\n\nvar _c;\n\n$RefreshReg$(_c, \"View\");","map":{"version":3,"sources":["/home/acer/VisualCodeProjects/reactLessons/2/react-2/react-app/src/components/randomChar/randomChar.js"],"names":["React","Component","gotService","Spinner","ErrorMessage","RandomChar","state","char","loading","error","onCharLoaded","setState","onError","updateCharacter","id","Math","floor","random","getCharacter","then","catch","componentDidMount","console","log","timerId","setInterval","componentWillUnmount","clearInterval","render","errorMessage","spinner","content","View","name","gender","born","died","culture"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import './randomChar.css';\nimport gotService from '../../services/gotServices';\nimport Spinner from '../spinner';\nimport ErrorMessage from '../errorMessage';\n\nimport './randomChar.css';\n\nexport default class RandomChar extends Component {\n\n    gotService = new gotService();\n\n    state = {\n        char: {},\n        loading: true,\n        error: false\n    }\n\n    componentDidMount () {\n        console.log('mounting');\n        this.updateCharacter();\n        this.timerId = setInterval(this.updateCharacter, 5000);\n\n    }\n\n    componentWillUnmount () {\n        clearInterval(this.timerId);\n    }\n\n    onCharLoaded = (char) => {\n        this.setState({\n            char,\n            loading: false\n        });\n    }\n\n    onError = (error) => {\n        this.setState({\n            error: true,\n            loading: false\n        });\n    }\n\n    updateCharacter  = () => {\n\n        const id = Math.floor(Math.random() * 140 + 25);\n        // const id = 1300000;\n        \n        this.gotService.getCharacter(id)\n        .then(this.onCharLoaded)\n        .catch(this.onError);\n    }\n\n    render () {\n        console.log('render');\n\n        const {char, loading, error} = this.state;\n\n        const errorMessage = error ? <ErrorMessage/> : null;\n        const spinner = loading ? <Spinner/> : null;\n        const content = !(loading || error) ? <View char={char}/> : null;\n\n        return (\n            <div className=\"random-block rounded\">\n                {errorMessage}\n                {spinner}\n                {content}\n            </div>\n        )\n    }\n}\n\nconst View = ({char}) => {\n    const {name, gender, born, died, culture} = char;\n\n    return (\n        <>\n            <h4>RandomChar: {name}</h4>\n            <ul className=\"list-group list-group-flush\">\n                <li className=\"list-group-item d-flex justify-content-between\">\n                    <span className=\"term\">Gender: </span>\n                    <span>{gender}</span>\n                </li>\n                <li className=\"list-group-item d-flex justify-content-between\">\n                    <span className=\"term\">Born: </span>\n                    <span>{born}</span>\n                </li>\n                <li className=\"list-group-item d-flex justify-content-between\">\n                    <span className=\"term\">Died: </span>\n                    <span>{died}</span>\n                </li>\n                <li className=\"list-group-item d-flex justify-content-between\">\n                    <span className=\"term\">Culture: </span>\n                    <span>{culture}</span>\n                </li>\n            </ul>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}